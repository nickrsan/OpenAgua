{% extends "layout.html" %}

{% block title %} - Manage{% endblock %}

{% block head_master %}
{% include 'navbar.html' %}

<!--jsoneditor-->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jsoneditor/5.5.8/jsoneditor.min.css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jsoneditor/5.5.8/jsoneditor.min.js"></script>

<link rel="stylesheet" href="{{ url_for('.static', filename='css/template-manager.css') }}" media="all" type="text/css" />

{% endblock %}    
    
{% block main %}

<div class="container-fluid">
  <div class="row" style="margin-top:5px">   
    <div class="col-sm-12 col-md-10 col-sm-offset-0 col-md-offset-1">
      {{ macros.messages()}}
    </div>
  </div>
</div>

<div class="container-fluid">

      <div class="row"><br>    
    
        <!--manage templates-->  
        <div class="col sm-6 col-md-4">
            <h4 style="margin:7px">Templates</h4>
            
              <div id="template_list_all">
                <ul class="list-group">
                </ul>
              </div>
        
              <div style="margin-bottom:10px">
                <form action="{{ url_for('.upload_template')}}" method="POST" enctype="multipart/form-data">
                    <label for="template_file">Upload a template file</label>
                    <input id="template_file" name="template" class="file" type="file" data-show-preview="false">
                </form>
              </div>

        </div> 
        
      
        <div class="col sm-6 col-md-8">
          <div id="json_editor_wrapper">
            <div id='json_editor'></div>
            <div id="editor_buttons">
              <input id='save_template' class="btn btn-primary" type="button" value="Save">
              <input id='close_editor' class="btn btn-default" type="button" value="Close">
            </div>
          </div>
        
        </div>
      </div> <!--end templates pane-->  
</div>
  
<script src="{{ url_for('.static', filename='js/functions.js') }}"></script>
<script src="{{ url_for('.static', filename='js/template_editor.js') }}"></script>

{% endblock %}